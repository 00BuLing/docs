---
sidebar_position: 2
slug: contributing-guide
---

# 项目贡献指南

欢迎为本项目贡献代码！本指南将帮助你了解如何参与项目开发，从环境准备到提交 Pull Request 的完整流程。

## 前置准备

### 1. 注册 GitHub 账号

如果你还没有 GitHub 账号，请先访问 [GitHub](https://github.com) 注册一个账号。

### 2. 安装 Git

确保你的电脑已安装 Git，可通过以下命令验证：

```bash
git --version
```

如未安装，请访问 [Git 官网](https://git-scm.com/) 下载安装。

## 开发流程

### 第一步：Fork 并克隆仓库

1. 在项目的 GitHub 页面点击右上角的 **Fork** 按钮，将仓库 fork 到你的账号下
2. 克隆你 fork 的仓库到本地：

```bash
git clone https://github.com/你的用户名/仓库名.git
cd 仓库名
```

3. 添加上游仓库（公司主仓库）为远程仓库：

```bash
git remote add upstream https://github.com/beisi-tech/仓库名.git
```

### 第二步：同步最新代码

在开始工作前，务必同步公司主仓库的最新代码：

```bash
# 拉取上游仓库的最新代码
git fetch upstream

# 切换到主分支
git checkout main

# 合并上游仓库的更新
git merge upstream/main
```

### 第三步：创建功能分支

根据 Issue 的要求，创建一个新的功能分支进行开发：

```bash
# 创建并切换到新分支，分支名要有意义
git checkout -b feature/issue-描述
# 或者修复 bug 的分支
git checkout -b fix/issue-描述
```

### 第四步：本地开发

1. 在你的电脑上修改代码
2. 开发过程中请遵循项目的规范文档：
   - [Commit 提交规范](./commit-specification)
   - [开发命名参考](./naming-conventions)
   - [中文文案排版指北](./chinese-copywriting-guidelines)

### 第五步：提交代码

完成开发后，提交你的修改：

```bash
# 查看修改的文件
git status

# 添加修改的文件
git add .

# 提交代码，遵循 Commit 规范
git commit -m "feat: 添加新功能描述"
# 或
git commit -m "fix: 修复某个问题 #issue编号"
```

**重要提示：** 如果你的提交是为了关闭某个 Issue，在 commit 信息末尾添加 `fix: #issue编号`，例如：

```bash
git commit -m "fix: 修复登录按钮样式问题 fix: #123"
```

这样在 PR 合并后会自动关闭对应的 Issue。

### 第六步：推送到远程仓库

```bash
git push origin feature/issue-描述
```

### 第七步：创建 Pull Request

1. 访问你 fork 的仓库页面
2. GitHub 会提示你创建 Pull Request，点击 **Compare & pull request**
3. 填写 PR 标题和描述：
   - 标题要简洁明了，说明本次改动的主要内容
   - 描述中详细说明：
     - 解决了什么问题
     - 如何解决的
     - 相关的 Issue 编号（使用 `Closes #issue编号` 或 `Fix #issue编号`）
4. 点击 **Create pull request** 提交

### 第八步：等待代码审核

管理员会审核你的 PR：

- **如果审核通过**：恭喜！你的代码将被合并到主分支
- **如果需要修改**：不要关闭 PR，直接在原分支上继续修改并提交

## PR 修改流程

如果第一次提交的 PR 没有被批准，需要修改代码，按以下步骤操作：

**不要创建新的 PR！** 直接在原来的分支上继续开发：

```bash
# 确保在原来的功能分支上
git checkout feature/issue-描述

# 修改代码...

# 提交修改
git add .
git commit -m "fix: 根据审核意见修改xxx"

# 推送到远程（会自动更新原 PR）
git push origin feature/issue-描述
```

推送后，原来的 Pull Request 会自动更新，管理员会看到你的新提交。

## 注意事项

### ✅ 推荐做法

- 每个 PR 只解决一个问题，保持改动最小化
- 提交前先在本地测试，确保代码可以正常运行
- 遵循项目的代码规范和 Commit 规范
- 及时同步主仓库的最新代码，避免冲突
- PR 描述清晰，说明改动原因和实现方式

### ❌ 避免做法

- 不要在 `main` 分支上直接开发
- 不要在一个 PR 中包含多个不相关的改动
- 不要提交无意义的 commit 信息（如 "update"、"fix"）
- 不要在 PR 被拒绝后创建新的 PR，应在原 PR 上继续提交

## 关联 Issue

在提交代码时，可以通过以下关键词自动关闭 Issue：

- `fix: #123` 或 `fixes: #123` 或 `fixed: #123`
- `close: #123` 或 `closes: #123` 或 `closed: #123`
- `resolve: #123` 或 `resolves: #123` 或 `resolved: #123`

**示例：**

```bash
git commit -m "fix: 修复登录页面样式错误 fix: #456"
```

当这个 commit 所在的 PR 被合并后，Issue #456 会自动关闭。

## 获取帮助

如果在贡献过程中遇到问题：

1. 查看项目的 [规范文档](./rule-intro)
2. 在对应的 Issue 下留言询问
3. 联系项目维护人员

感谢你的贡献！🎉
